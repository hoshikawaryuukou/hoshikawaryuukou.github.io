<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Principle on è­˜ä¹‹ç®±åº­</title><link>https://HoshikawaRyuukou.github.io/tags/principle/</link><description>Recent content in Principle on è­˜ä¹‹ç®±åº­</description><generator>Hugo</generator><language>zh-tw</language><copyright>HoshikawaRyuukou</copyright><lastBuildDate>Thu, 16 Jan 2025 20:00:00 +0800</lastBuildDate><atom:link href="https://HoshikawaRyuukou.github.io/tags/principle/index.xml" rel="self" type="application/rss+xml"/><item><title>Software Design - Principle - Inversion of Control (IoC)</title><link>https://HoshikawaRyuukou.github.io/posts/software-design---principle---inversion-of-control-ioc/</link><pubDate>Thu, 16 Jan 2025 20:00:00 +0800</pubDate><guid>https://HoshikawaRyuukou.github.io/posts/software-design---principle---inversion-of-control-ioc/</guid><description>&lt;h2 id="quick-chat"&gt;Quick Chat&lt;/h2&gt;
&lt;p&gt;ã€Œæ§åˆ¶åè½‰ï¼ˆInversion of Control, IoCï¼‰ã€é€™å€‹è©å¸¸å¸¸è®“äººä¸€é ­éœ§æ°´â”€â”€åˆ°åº•åè½‰äº†ä»€éº¼ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ›´éº»ç…©çš„æ˜¯ï¼Œå®ƒé‚„å¾ˆå®¹æ˜“å’Œã€Œä¾è³´å€’ç½®ï¼ˆDependency Inversionï¼‰ã€æ··æ·† ğŸ˜…&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åœ¨é–‹ç™¼æ™‚æœ‰å‡ºç¾ä»¥ä¸‹é€™äº›ç–‘æƒ‘ï¼Œé‚£éº¼ä½ å…¶å¯¦å·²ç¶“åœ¨æ€è€ƒ IoC è¦è§£æ±ºçš„å•é¡Œäº†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‚ºä»€éº¼åˆ°è™•éƒ½è¦ &lt;code&gt;new&lt;/code&gt;ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å»ºæ§‹å­çš„åƒæ•¸è¦æ€éº¼å®‰æ’ï¼Ÿåˆå§‹åŒ–é‚è¼¯æ€éº¼æ•´ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;ç‰©ä»¶èƒ½ä¸èƒ½è¢«å…±äº«ï¼Ÿç”Ÿå‘½é€±æœŸèª°ä¾†ç®¡ç†ï¼Ÿä½•æ™‚è©²é‡‹æ”¾ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ˜¯å¦éœ€è¦ä¸€å€‹ã€Œå°ˆé–€ç®¡ç†ä¾è³´ã€çš„è§’è‰²ï¼Ÿ&lt;/li&gt;
&lt;li&gt;é€™å€‹é¡åˆ¥æ—¢è¦è™•ç†æ¥­å‹™é‚è¼¯ï¼Œåˆè¦è² è²¬ &lt;code&gt;new&lt;/code&gt; ç‰©ä»¶ï¼Œè·è²¬æ˜¯ä¸æ˜¯å¤ªæ··äº‚äº†ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;IoC æ­£æ˜¯ç‚ºäº†è§£æ±ºé€™äº›å•é¡Œè€Œæå‡ºçš„ï¼Œå®ƒå¸¶ä¾†ä¸€å€‹æ ¸å¿ƒç†å¿µï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¾è³´çš„ã€Œä½¿ç”¨è€…ã€ä¸å†è‡ªå·±ä¸»å‹•å»å»ºç«‹å’Œé…ç½®ä¾è³´ï¼Œè€Œæ˜¯æŠŠé€™å€‹ã€Œæ§åˆ¶æ¬Šã€äº¤çµ¦å¤–éƒ¨æ©Ÿåˆ¶ï¼ˆé€šå¸¸æ˜¯ IoC å®¹å™¨ï¼‰ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;æ›å¥è©±èªªï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¾è³´çš„ã€Œä½¿ç”¨è€…ã€åªéœ€è¦ã€Œæ¥æ”¶ã€æˆ–ã€ŒæŸ¥è©¢ã€å®ƒæ‰€éœ€çš„ä¾è³´ï¼Œç„¶å¾Œå°ˆå¿ƒã€Œä½¿ç”¨ã€å®ƒå€‘ã€‚é€™æ¨£å®ƒå°±èƒ½å°ˆæ³¨åœ¨æ ¸å¿ƒé‚è¼¯ä¸Šï¼Œè€Œä¸å¿…åˆ†å¿ƒè™•ç†ä¾è³´ç®¡ç†ï¼Œé€²è€Œæå‡æ¨¡çµ„åŒ–èˆ‡å¯ç¶­è­·æ€§ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id="advantages"&gt;Advantages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é™ä½è€¦åˆåº¦ï¼š&lt;/strong&gt; éœ€æ±‚æ–¹èˆ‡å…·é«”å¯¦ç¾ä¹‹é–“ä¸å†ç›´æ¥é—œè¯ï¼Œæ¯å€‹æ¨¡çµ„éƒ½å¯ä»¥ç¨ç«‹é–‹ç™¼ã€æ¸¬è©¦èˆ‡æ›¿æ›ï¼Œäº’ä¸å½±éŸ¿ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é›†ä¸­ç®¡ç†ä¾è³´ï¼š&lt;/strong&gt; å®¹å™¨çµ±ä¸€ç®¡ç†æ‰€æœ‰ç‰©ä»¶çš„å»ºç«‹å’Œç”Ÿå‘½é€±æœŸã€‚ç•¶æ‚¨éœ€è¦æ›¿æ›æŸå€‹æœå‹™çš„å¯¦ä½œæ™‚ï¼Œåªéœ€è¦ä¿®æ”¹å®¹å™¨çš„é…ç½®ï¼Œè€Œä¸éœ€è¦å‹•åˆ°å¤šè™•ç¨‹å¼ç¢¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é¿å…é‡è¤‡å»ºæ§‹ï¼š&lt;/strong&gt; å®¹å™¨å¯ä»¥ç®¡ç†å…±äº«çš„ç‰©ä»¶å¯¦ä¾‹ï¼Œæœ‰æ•ˆé¿å…é‡è¤‡å»ºç«‹ï¼Œæé«˜è³‡æºåˆ©ç”¨ç‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æå‡æ¸¬è©¦ä¾¿åˆ©æ€§ï¼š&lt;/strong&gt; é€é IoC å®¹å™¨ï¼Œåœ¨é€²è¡Œå–®å…ƒæ¸¬è©¦æ™‚ï¼Œå¯ä»¥è¼•é¬†åœ°å°‡çœŸå¯¦çš„æœå‹™æ›¿æ›ç‚º&lt;strong&gt;æ¨¡æ“¬ç‰©ä»¶ï¼ˆmockï¼‰&lt;/strong&gt; æˆ– &lt;strong&gt;æ¸¬è©¦æ›¿èº«ï¼ˆstubï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="practice"&gt;Practice&lt;/h2&gt;
&lt;p&gt;å¯¦ç¾ IoC æœ‰å…©ç¨®å¸¸è¦‹æ–¹å¼ï¼š&lt;strong&gt;ä¾è³´æ³¨å…¥ï¼ˆDependency Injection, DIï¼‰&lt;/strong&gt; å’Œ &lt;strong&gt;ä¾è³´å°‹æ‰¾ï¼ˆDependency Lookupï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id="ä¾è³´æ³¨å…¥di"&gt;ä¾è³´æ³¨å…¥ï¼ˆDIï¼‰&lt;/h3&gt;
&lt;p&gt;é€™æ˜¯ç›®å‰æœ€ä¸»æµä¸”æ¨è–¦çš„å¯¦è¸æ–¹å¼ï¼Œæ ¸å¿ƒæ¦‚å¿µæ˜¯&lt;strong&gt;ç”±å®¹å™¨ã€Œè¢«å‹•åœ°ã€å°‡ä¾è³´é …å‚³éçµ¦éœ€æ±‚æ–¹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯¦ä½œåŸç†ï¼š&lt;/strong&gt; å®¹å™¨æœƒä¸»å‹•å°‡æ‰€éœ€çš„ä¾è³´ï¼ˆå¦‚æœå‹™ç‰©ä»¶ï¼‰é€éä»¥ä¸‹æ–¹å¼æ³¨å…¥åˆ°æ‚¨çš„é¡åˆ¥ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å»ºæ§‹å­æ³¨å…¥ï¼ˆConstructor Injectionï¼‰ï¼š&lt;/strong&gt; åœ¨ç‰©ä»¶å»ºæ§‹æ™‚ï¼Œé€éå»ºæ§‹å­çš„åƒæ•¸å‚³å…¥ä¾è³´ã€‚é€™æ˜¯æœ€æ¨è–¦çš„æ–¹å¼ï¼Œå› ç‚ºå®ƒå¯ä»¥ç¢ºä¿ç‰©ä»¶åœ¨å»ºç«‹æ™‚å°±æ“æœ‰æ‰€æœ‰å¿…è¦çš„ä¾è³´ï¼Œè®“ä¾è³´é—œä¿‚æ›´æ¸…æ™°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å±¬æ€§æ³¨å…¥ï¼ˆProperty Injectionï¼‰ï¼š&lt;/strong&gt; é€éå…¬é–‹çš„å±¬æ€§ï¼ˆSetterï¼‰ä¾†å‚³å…¥ä¾è³´ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ³•æ³¨å…¥ï¼ˆMethod Injectionï¼‰ï¼š&lt;/strong&gt; é€éç‰¹å®šçš„æ–¹æ³•ä¾†å‚³å…¥ä¾è³´ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å„ªé»ï¼š&lt;/strong&gt; é€™ç¨®æ–¹å¼è®“æ‚¨çš„ç¨‹å¼ç¢¼ç„¡éœ€çŸ¥é“å®¹å™¨çš„å­˜åœ¨ï¼ˆç†æƒ³ç‹€æ…‹ï¼‰ï¼Œå› ç‚ºä¾è³´æ˜¯ã€Œè¢«å‹•ã€å‚³å…¥çš„ï¼Œå¤§å¤§é™ä½äº†è€¦åˆåº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="ä¾è³´å°‹æ‰¾dependency-lookup"&gt;ä¾è³´å°‹æ‰¾ï¼ˆDependency Lookupï¼‰&lt;/h3&gt;
&lt;p&gt;é€™ç¨®æ–¹å¼çš„æ ¸å¿ƒæ˜¯&lt;strong&gt;ç”±éœ€æ±‚æ–¹ã€Œä¸»å‹•åœ°ã€å‘å®¹å™¨è«‹æ±‚æ‰€éœ€çš„ä¾è³´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯¦ä½œåŸç†ï¼š&lt;/strong&gt; éœ€æ±‚æ–¹æœƒç›´æ¥å‘¼å«å®¹å™¨çš„æ–¹æ³•ï¼ˆä¾‹å¦‚ &lt;code&gt;container.resolve()&lt;/code&gt;ï¼‰ï¼Œä¾†å–å¾—æ‰€éœ€çš„æœå‹™ã€‚&lt;/p&gt;</description></item></channel></rss>