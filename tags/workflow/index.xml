<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Workflow on è­˜ä¹‹ç®±åº­</title><link>https://HoshikawaRyuukou.github.io/tags/workflow/</link><description>Recent content in Workflow on è­˜ä¹‹ç®±åº­</description><generator>Hugo</generator><language>zh-tw</language><copyright>HoshikawaRyuukou</copyright><lastBuildDate>Mon, 18 Aug 2025 20:38:51 +0800</lastBuildDate><atom:link href="https://HoshikawaRyuukou.github.io/tags/workflow/index.xml" rel="self" type="application/rss+xml"/><item><title>Workflow â€“ Host Unity Web Game on GitHub Pages</title><link>https://HoshikawaRyuukou.github.io/posts/_single/workflow--host-unity-web-game-on-github-pages/</link><pubDate>Mon, 18 Aug 2025 20:38:51 +0800</pubDate><guid>https://HoshikawaRyuukou.github.io/posts/_single/workflow--host-unity-web-game-on-github-pages/</guid><description>&lt;h2 id="quick-chat"&gt;Quick Chat&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;âš ï¸ åœ¨ Unity ä¸­éœ€å•Ÿç”¨ &lt;strong&gt;Decompression Fallback&lt;/strong&gt;ï¼ˆå›  GitHub Pages ä¸æ”¯æ´å£“ç¸®æª”æ¡ˆï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;âš ï¸ &lt;strong&gt;åƒ… Public Repository&lt;/strong&gt; å¯å…è²»ä½¿ç”¨ GitHub Pagesã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ä¸‹æä¾›å…©ç¨®ç°¡å–®çš„éƒ¨ç½²æ–¹å¼ï¼ˆæ­¤è™•ä¸è¨è«– CI è‡ªå‹•åŒ–ï¼‰ï¼š&lt;/p&gt;
&lt;h2 id="æ–¹æ³•ä¸€å»ºç«‹ç¨ç«‹çš„-public-repository"&gt;æ–¹æ³•ä¸€ï¼šå»ºç«‹ç¨ç«‹çš„ Public Repository&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å»ºç«‹ä¸€å€‹æ–°çš„ &lt;strong&gt;Public Repository&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å°‡ Unity WebGL çš„å»ºç½®è¼¸å‡ºæª”æ¡ˆä¸Šå‚³è‡³è©² Repositoryã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ GitHub è¨­å®šä¸­ï¼ŒæŒ‡å®šåŒ…å« &lt;code&gt;index.html&lt;/code&gt; çš„è³‡æ–™å¤¾ï¼Œå³å¯å®Œæˆéƒ¨ç½²ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="æ–¹æ³•äºŒå­¤å…’åˆ†æ”¯-orphan-branch"&gt;æ–¹æ³•äºŒï¼šå­¤å…’åˆ†æ”¯ (Orphan Branch)&lt;/h2&gt;
&lt;p&gt;æˆ‘å·²å°è£å¥½ä¸€å€‹ PowerShell å·¥å…·ï¼Œèƒ½å¿«é€Ÿå®Œæˆéƒ¨ç½²ï¼š&lt;/p&gt;
&lt;p&gt;ğŸ‘‰ &lt;a href="https://github.com/hoshikawaryuukou/MGST-PowerShell-Toolkit/tree/main/GH-Pages-Deploy"&gt;MGST-PowerShell-Toolkit/GH-Pages-Deploy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å·¥å…·èƒ½å°‡æŒ‡å®š Git å€‰åº«ä¸­çš„å»ºç½®æˆæœéƒ¨ç½²åˆ° GitHub Pages çš„ &lt;code&gt;gh-pages&lt;/code&gt; åˆ†æ”¯ã€‚&lt;br&gt;
å®ƒé€é &lt;strong&gt;Git worktree&lt;/strong&gt; èˆ‡ &lt;strong&gt;å­¤å…’åˆ†æ”¯ï¼ˆorphan branchï¼‰&lt;/strong&gt; æŠ€è¡“ï¼Œèƒ½åœ¨ä¸å½±éŸ¿ä¸»åˆ†æ”¯é–‹ç™¼çš„æƒ…æ³ä¸‹ï¼Œç¨ç«‹ç¶­è­·éƒ¨ç½²å…§å®¹ã€‚&lt;/p&gt;
&lt;p&gt;è«‹å…ˆç¢ºèªç›®æ¨™ç›®éŒ„ç¬¦åˆä»¥ä¸‹çµæ§‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;project-root/ 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;â”œâ”€â”€ .git
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;â””â”€â”€ Builds/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Workflow â€“ Mirroring Obsidian Notes to Hugo</title><link>https://HoshikawaRyuukou.github.io/posts/_single/workflow--mirror-obsidian-notes-to-hugo/</link><pubDate>Wed, 13 Aug 2025 20:31:00 +0800</pubDate><guid>https://HoshikawaRyuukou.github.io/posts/_single/workflow--mirror-obsidian-notes-to-hugo/</guid><description>&lt;h2 id="quick-chat"&gt;Quick Chat&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;robocopy&lt;/code&gt; ä»¥é¡åƒæ–¹å¼ï¼Œå°‡ &lt;code&gt;obsidian-notes&lt;/code&gt; ä¸­çš„ &lt;code&gt;posts&lt;/code&gt; èˆ‡ &lt;code&gt;images&lt;/code&gt; è³‡æ–™å¤¾ï¼ŒåŒæ­¥åˆ° Hugo å°ˆæ¡ˆçš„å°æ‡‰ç›®éŒ„ã€‚&lt;/p&gt;
&lt;h2 id="operation"&gt;Operation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è©¢å•ä½¿ç”¨è€…&lt;/strong&gt;æ˜¯å¦è¦åŸ·è¡ŒåŒæ­¥ä»»å‹™ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¨­å®šä¸¦é©—è­‰è·¯å¾‘&lt;/strong&gt;ï¼Œç¢ºä¿ä¾†æºèˆ‡ç›®æ¨™çš†å­˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸ·è¡Œ &lt;code&gt;robocopy&lt;/code&gt; é¡åƒåŒæ­¥&lt;/strong&gt;ï¼Œå°‡ä¾†æºå…§å®¹å®Œæ•´è¦†è“‹è‡³ Hugo å°ˆæ¡ˆç›®æ¨™ä½ç½®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="mirrorbat"&gt;mirror.bat&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@echo off
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;setlocal
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;:: Ask &lt;span style="color:#00a8c8"&gt;if&lt;/span&gt; the sync task should be run
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Do you want to run the sync task? &lt;span style="color:#f92672"&gt;(&lt;/span&gt;Y/N&lt;span style="color:#f92672"&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;set&lt;/span&gt; /p &lt;span style="color:#111"&gt;RUN_SYNC&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#00a8c8"&gt;if&lt;/span&gt; /I not &lt;span style="color:#d88200"&gt;&amp;#34;%RUN_SYNC%&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;==&lt;/span&gt;&lt;span style="color:#d88200"&gt;&amp;#34;Y&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;echo&lt;/span&gt; Sync task cancelled.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; pause
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; goto :EOF
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;:: Get the directory of the current script
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;set&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;SCRIPT_DIR=%~dp0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;:: Set relative paths
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;set&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;SRC_POSTS=%SCRIPT_DIR%..\obsidian-notes\blog\posts&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;set&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;SRC_IMGS=%SCRIPT_DIR%..\obsidian-notes\blog\images&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;set&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;DST_POSTS=%SCRIPT_DIR%content\posts&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;set&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;DST_IMGS=%SCRIPT_DIR%static\images&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;:: Check &lt;span style="color:#00a8c8"&gt;if&lt;/span&gt; &lt;span style="color:#111"&gt;source&lt;/span&gt; paths exist
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Checking &lt;span style="color:#111"&gt;source&lt;/span&gt; paths...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#00a8c8"&gt;if&lt;/span&gt; not exist &lt;span style="color:#d88200"&gt;&amp;#34;%SRC_POSTS%&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;echo&lt;/span&gt; ERROR: Source posts directory not found: %SRC_POSTS%
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;echo&lt;/span&gt; Please confirm that the blog-obsidian project location is correct.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; pause
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; goto :EOF
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#00a8c8"&gt;if&lt;/span&gt; not exist &lt;span style="color:#d88200"&gt;&amp;#34;%SRC_IMGS%&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;echo&lt;/span&gt; ERROR: Source images directory not found: %SRC_IMGS%
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;echo&lt;/span&gt; Please confirm that the blog-obsidian project location is correct.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; pause
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; goto :EOF
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Source path check passed.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Starting synchronization...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;:: Run synchronization
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Syncing posts directory...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;robocopy &lt;span style="color:#d88200"&gt;&amp;#34;%SRC_POSTS%&amp;#34;&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;%DST_POSTS%&amp;#34;&lt;/span&gt; /MIR
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Syncing images directory...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;robocopy &lt;span style="color:#d88200"&gt;&amp;#34;%SRC_IMGS%&amp;#34;&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;%DST_IMGS%&amp;#34;&lt;/span&gt; /MIR
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;echo&lt;/span&gt; Synchronization complete!
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pause
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;endlocal
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Workflow â€“ Build and Deploy Hugo Site</title><link>https://HoshikawaRyuukou.github.io/posts/_single/workflow--build-and-deploy-hugo-site/</link><pubDate>Thu, 30 Jan 2025 14:12:00 +0800</pubDate><guid>https://HoshikawaRyuukou.github.io/posts/_single/workflow--build-and-deploy-hugo-site/</guid><description>&lt;h2 id="quick-chat"&gt;Quick Chat&lt;/h2&gt;
&lt;p&gt;ç•¶ &lt;code&gt;main&lt;/code&gt; åˆ†æ”¯æœ‰ pushï¼Œæˆ–æœ‰ pull request æ™‚ï¼Œæœƒè‡ªå‹•ç”¨ Hugo ç”Ÿæˆéœæ…‹ç¶²ç«™ï¼Œä¸¦å°‡ &lt;code&gt;public&lt;/code&gt; ç›®éŒ„çš„å…§å®¹éƒ¨ç½²åˆ° GitHub Pagesã€‚&lt;/p&gt;
&lt;h2 id="operation"&gt;Operation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æª¢å‡ºç¨‹å¼ç¢¼&lt;/strong&gt;ï¼ˆå« submodulesï¼Œå…¨æ­·å²ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£ Hugo&lt;/strong&gt;ï¼ˆæœ€æ–°ç‰ˆã€Extended ç‰ˆï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å»ºç½®ç¶²ç«™&lt;/strong&gt;ï¼ˆ&lt;code&gt;hugo --minify&lt;/code&gt; å£“ç¸®è¼¸å‡ºï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éƒ¨ç½²åˆ° GitHub Pages&lt;/strong&gt;ï¼ˆåƒ… &lt;code&gt;main&lt;/code&gt; åˆ†æ”¯æ‰åŸ·è¡Œéƒ¨ç½²ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="gh-pagesyml"&gt;gh-pages.yml&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yml" data-lang="yml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;name&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;github pages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;on&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;push&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;branches&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#ae81ff"&gt;main&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;pull_request&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;jobs&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;deploy&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;runs-on&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;ubuntu-22.04&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;steps&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;uses&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;actions/checkout@v3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;with&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;submodules&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#00a8c8"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;fetch-depth&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; &lt;span style="color:#75715e"&gt;# Fetch all history for .GitInfo and .Lastmod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;name&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;Setup Hugo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;uses&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;peaceiris/actions-hugo@v3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;with&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;hugo-version&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;latest&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;extended&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#00a8c8"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;name&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;Build&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;run&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;hugo --minify&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#f92672"&gt;name&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;Deploy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;uses&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;peaceiris/actions-gh-pages@v4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;if&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;github.ref == &amp;#39;refs/heads/main&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;with&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;github_token&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;${{ secrets.GITHUB_TOKEN }}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;publish_dir&lt;/span&gt;&lt;span style="color:#111"&gt;:&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;./public&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Workflow â€“ Clean Up Old GitHub Deployments</title><link>https://HoshikawaRyuukou.github.io/posts/_single/workflow--clean-up-old-github-deployments/</link><pubDate>Wed, 13 Nov 2024 20:31:00 +0800</pubDate><guid>https://HoshikawaRyuukou.github.io/posts/_single/workflow--clean-up-old-github-deployments/</guid><description>&lt;h2 id="quick-chat"&gt;Quick Chat&lt;/h2&gt;
&lt;p&gt;é€é GitHub CLI (&lt;strong&gt;&lt;code&gt;gh&lt;/code&gt;&lt;/strong&gt;) åˆªé™¤ä¸€å€‹å„²å­˜åº«ä¸­&lt;strong&gt;æœ€èˆŠçš„éƒ¨ç½²ï¼ˆdeploymentï¼‰è¨˜éŒ„&lt;/strong&gt;ï¼Œä¿ç•™æœ€æ–°çš„ 10 ç­†ã€‚&lt;/p&gt;
&lt;h2 id="operation"&gt;Operation&lt;/h2&gt;
&lt;h3 id="ç™»å…¥"&gt;ç™»å…¥&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;gh auth login
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="clean-up-old-github-deploymentsps1"&gt;Clean-Up-Old-GitHub-Deployments.ps1&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å–å¾—æŒ‡å®šå„²å­˜åº«çš„æ‰€æœ‰éƒ¨ç½²è¨˜éŒ„ IDã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è·³éæœ€æ–°çš„ 10 å€‹ IDã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°å‰©ä¸‹çš„ï¼ˆæœ€èˆŠçš„ï¼‰æ¯ä¸€å€‹ IDï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡¯ç¤ºä¸€æ¢åˆªé™¤æç¤ºè¨Šæ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç™¼é€ä¸€å€‹ &lt;code&gt;DELETE&lt;/code&gt; API è«‹æ±‚ï¼Œå°‡å…¶å¾ GitHub ç§»é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-ps1" data-lang="ps1"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;$Owner&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;Owner Name&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;$Repo&lt;/span&gt; &lt;span style="color:#111"&gt;=&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;Repo Name&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;gh&lt;/span&gt; &lt;span style="color:#111"&gt;api&lt;/span&gt; &lt;span style="color:#111"&gt;repos&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;$Owner&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;$Repo&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;deployments&lt;/span&gt; &lt;span style="color:#111"&gt;-&lt;/span&gt;&lt;span style="color:#111"&gt;-paginate&lt;/span&gt; &lt;span style="color:#111"&gt;-&lt;/span&gt;&lt;span style="color:#111"&gt;-jq&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#39;.[].id&amp;#39;&lt;/span&gt; &lt;span style="color:#111"&gt;|&lt;/span&gt; &lt;span style="color:#111"&gt;Select-Object&lt;/span&gt; &lt;span style="color:#111"&gt;-Skip&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;10&lt;/span&gt; &lt;span style="color:#111"&gt;|&lt;/span&gt; &lt;span style="color:#111"&gt;ForEach-Object&lt;/span&gt; &lt;span style="color:#111"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;Write-Host&lt;/span&gt; &lt;span style="color:#d88200"&gt;&amp;#34;Deleting deployment &lt;/span&gt;&lt;span style="color:#111"&gt;$_&lt;/span&gt;&lt;span style="color:#d88200"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#111"&gt;gh&lt;/span&gt; &lt;span style="color:#111"&gt;api&lt;/span&gt; &lt;span style="color:#111"&gt;-&lt;/span&gt;&lt;span style="color:#111"&gt;-method&lt;/span&gt; &lt;span style="color:#111"&gt;DELETE&lt;/span&gt; &lt;span style="color:#111"&gt;repos&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;$Owner&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;$Repo&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;deployments&lt;/span&gt;&lt;span style="color:#111"&gt;/&lt;/span&gt;&lt;span style="color:#111"&gt;$_&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#111"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€™æ®µç¨‹å¼ç¢¼å¯ä»¥æ‹†è§£ç‚ºå¹¾å€‹éƒ¨åˆ†ä¾†ç†è§£ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;$Owner&lt;/code&gt; å’Œ &lt;code&gt;$Repo&lt;/code&gt; æ˜¯ PowerShell çš„&lt;strong&gt;è®Šæ•¸&lt;/strong&gt;ï¼Œç”¨ä¾†å­˜æ”¾ä½ çš„ GitHub å„²å­˜åº«çš„æ“æœ‰è€…å’Œåç¨±ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gh api repos/$Owner/$Repo/deployments --paginate --jq '.[].id'&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$Owner&lt;/code&gt; å’Œ &lt;code&gt;$Repo&lt;/code&gt; æœƒè¢«æ›¿æ›æˆä½ è¨­å®šçš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;é€™æ®µæŒ‡ä»¤æœƒé€é GitHub CLI å–å¾—ä½ æŒ‡å®šå„²å­˜åº«çš„æ‰€æœ‰éƒ¨ç½²è¨˜éŒ„ï¼Œä¸¦åªåˆ—å‡ºå®ƒå€‘çš„ IDã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;| Select-Object -Skip 10&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€™æ®µæŒ‡ä»¤æœƒ&lt;strong&gt;è·³é&lt;/strong&gt;æ¸…å–®ä¸­&lt;strong&gt;æœ€å‰é¢çš„ 10 å€‹ ID&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å› ç‚º GitHub API é è¨­æ˜¯æŠŠæœ€æ–°çš„è¨˜éŒ„æ”¾åœ¨æœ€å‰é¢ï¼Œæ‰€ä»¥é€™å€‹æ­¥é©Ÿç­‰æ–¼æ˜¯ä¿ç•™äº†æœ€æ–°çš„ 10 ç­†éƒ¨ç½²ï¼Œä¸¦é¸å–äº†å‰©ä¸‹çš„ã€æœ€èˆŠçš„éƒ¨ç½²ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;| ForEach-Object { ... }&lt;/code&gt;&lt;/p&gt;</description></item></channel></rss>